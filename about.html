<!DOCTYPE html> <html xmlns="http://www.w3.org/1999/xhtml"> <head> <meta charset="utf-8"> <title>Modularize</title> <meta name="viewport" content="width=device-width"> <meta name="description" content="A modularization framework"> <meta name="author" content="Nicolas Hafner &lt;shinmera@tymoon.eu&gt;"> <style type="text/css"> body{
          max-width: 1024px;
          margin: 0 auto 0 auto;
          font-family: sans-serif;
          color: #333333;
          font-size: 14pt;
          padding: 5px;
      }
      body>header{
          display:flex;
          align-items: center;
          justify-content: center;
          flex-direction: column;
          max-width: 100%;
          text-align: center;
      }
      body>header img{
          max-width: 50%;
      }
      img{
          max-width: 100%;
          max-height: 100%;
      }
      code{
          font-family: Consolas, Inconsolata, monospace;
      }
      a{
          text-decoration: none;
          color: #0055AA;
      }
      a img{
          border: none;
      }
      #documentation{
          text-align: justify;
      }
      #documentation pre{
          margin-left: 20px;
          overflow: auto;
      }
      #documentation img{
          margin: 5px;
      }
      #symbol-index>ul{
          list-style: none;
          padding: 0;
      }
      #symbol-index .package>ul{
          list-style: none;
          padding: 0 0 0 10px;
      }
      #symbol-index .package .nicknames{
          font-weight: normal;
      }
      #symbol-index .package h4{
          display: inline-block;
          margin: 0;
      }
      #symbol-index .package article{
          margin: 0 0 15px 0;
      }
      #symbol-index .package article header{
          font-size: 1.2em;
          font-weight: normal;
      }
      #symbol-index .package .name{
          margin-right: 5px;
      }
      #symbol-index .package .docstring{
          margin: 0 0 0 15px;
          white-space: pre-wrap;
          font-size: 12pt;
      }
      @media (max-width: 800px){
          body{font-size: 12pt;}
      } </style> </head> <body> <header> <h1>modularize</h1> <span class="version">1.0.0</span> <p class="description">A modularization framework</p> </header> <main> <article id="documentation">  <div><h2 id="about_modularize">About Modularize</h2> <p>modularize is an attempt at providing a common interface to segregate major application components. this is achieved by adding special treatment to packages. each module is a package that is specially registered, which allows it to interact and co-exist with other modules in better ways. for instance, by adding module definition options you can introduce mechanisms to tie modules together in functionality, hook into each other and so on.</p> <h2 id="how_to">How To</h2> <p>each module should consist of a <code><a href="#MODULARIZE:DEFINE-MODULE">define-module</a></code> form and an asdf system with the superclass <code><a href="#MODULARIZE:MODULE">modularize:module</a></code>. <code><a href="#MODULARIZE:DEFINE-MODULE">define-module</a></code> acts as a wrapper around <code><a href="http://l1sp.org/cl/defpackage">defpackage</a></code>, so it will replace your usual <code><a href="http://l1sp.org/cl/defpackage">defpackage</a></code> form. any option you would use in <code><a href="http://l1sp.org/cl/defpackage">defpackage</a></code> is also usable in <code><a href="#MODULARIZE:DEFINE-MODULE">define-module</a></code>, but the latter also allows for custom-defined options that perform specific actions upon module creation.</p> <pre><code>(<a href="#MODULARIZE:DEFINE-MODULE">modularize:define-module</a> test-module
  (:use #:cl #:modularize)
  (:export #:greet))</code></pre> <p>if for some reason you absolutely do not want to use <code><a href="#MODULARIZE:DEFINE-MODULE">define-module</a></code>, you may define your package manually and call <code><a href="#MODULARIZE:MODULARIZE">modularize</a></code> on it afterwards. note though that you also need to manually perform all changes that additional module options may otherwise perform for you. if your module-name somehow differs from the asdf system, you will need to specify this in your asdf system definition:</p> <pre><code>(asdf:defsystem some-test-module
  :class &quot;modularize:virtual-module&quot;
  :defsystem-depends-on (:modularize)
  :module-name &quot;test-module&quot;
  ...)</code></pre> <p>the main difference over packages is that each module has a central storage table, which you can access with <code><a href="#MODULARIZE:MODULE-STORAGE">module-storage</a></code>. this allows you to save metadata on modules to keep track of the different parts each module might play in your application.</p> <p>another function that might prove useful is <code><a href="#MODULARIZE:DELETE-MODULE">delete-module</a></code>, which attempts to offer a mechanism to completely remove a module so as to revert its changes. without any further additions, this will simply result in all symbols in the module package being <code><a href="http://l1sp.org/cl/makunbound">makunbound</a></code> and <code><a href="http://l1sp.org/cl/fmakunbound">fmakunbound</a></code> and the package getting deleted. since a module might also cause changes outside of its own package, it is therefore advised to add deletion hooks through <code><a href="#MODULARIZE:DEFINE-DELETE-HOOK">define-delete-hook</a></code> as to make sure other kinds of changes can be cleaned up as well.</p> <p>similarly if you want to tuck on functionality once a module is defined to initialise it, you can hook into that with <code><a href="#MODULARIZE:DEFINE-MODULARIZE-HOOK">define-modularize-hook</a></code> and <code><a href="#MODULARIZE:DEFINE-OPTION-EXPANDER">define-option-expander</a></code>. the former works like <code><a href="#MODULARIZE:DEFINE-DELETE-HOOK">define-delete-hook</a></code> and is called once <code><a href="#MODULARIZE:MODULARIZE">modularize</a></code> is called on a package, after the package's storage has been set up. the latter allows you to declare custom forms that a <code><a href="#MODULARIZE:DEFINE-MODULE">define-module</a></code> call should expand to. note that module options are only expanded <em>after</em> <code><a href="#MODULARIZE:MODULARIZE">modularize</a></code> is called, so you may use the storage in your expansions.</p> <p>if a component should extend the functionality of another, this can be more intuitively done through <code><a href="#MODULARIZE:DEFINE-MODULE-EXTENSION">define-module-extension</a></code>. in looks and form it is the same as <code><a href="#MODULARIZE:DEFINE-MODULE">define-module</a></code>, with the difference that it won't create a new package, but use the one it is extending. through this you can export new functions and other additions without running into a multiple-package mess.</p> <p>if you would like to group multiple packages under a single module (probably the case if you use one package per file), then you must register the packages with the module. you can do this in your module definition with the <code>:packages</code> option, or by <code><a href="#MODULARIZE:MODULE-PACKAGES">module-packages</a></code> calls.</p> <p>for a super small sample use of a module, have a look at <a href="https://github.com/shinmera/modularize/blob/master/modularize-test-module.asd">modularize-test-module.asd</a> and <a href="https://github.com/shinmera/modularize/blob/master/modularize-test-module.lisp">modularize-test-module.lisp</a>. for extensions to the module system, have a gander at <a href="https://github.com/shinmera/modularize-interfaces">modularize-interfaces</a> and <a href="https://github.com/shinmera/modularize-hooks">modularize-hooks</a>.</p> </div>  </article> <article id="copyright">  <h2>Copyright</h2> <span>modularize</span> is licensed under the <span><a href="https://tldrlegal.com/search?q=Artistic">Artistic</a></span> license.  Â© <span>Nicolas Hafner &lt;shinmera@tymoon.eu&gt;</span> .  This library can be obtained on <a href="https://github.com/Shinmera/modularize">https://github.com/Shinmera/modularize</a>.  </article>  <article id="symbol-index"> <h2>Package Index</h2> <ul><li class="package"> <h3> <a name="MODULARIZE" href="#MODULARIZE">MODULARIZE</a> <span class="nicknames">(RADIANCE-MODULARIZE ORG.SHIRAKUMO.RADIANCE.LIB.MODULARIZE)</span> </h3> <ul><li> <a name="MODULARIZE:MODULE"> </a> <article id="CLASS MODULARIZE:MODULE"> <header class="class"> <span class="type">class</span>  <h4 class="name"><code><a href="#CLASS%20MODULARIZE%3AMODULE">MODULE</a></code></h4>  </header> <div class="docstring"><pre>ASDF System subclass that serves as the class for virtual modules.

Deprecated-- use VIRTUAL-MODULE instead.</pre></div> </article> </li><li> <a name="MODULARIZE:VIRTUAL-MODULE"> </a> <article id="CLASS MODULARIZE:VIRTUAL-MODULE"> <header class="class"> <span class="type">class</span>  <h4 class="name"><code><a href="#CLASS%20MODULARIZE%3AVIRTUAL-MODULE">VIRTUAL-MODULE</a></code></h4>  </header> <div class="docstring"><pre>ASDF System subclass that serves as the class for virtual modules.</pre></div> </article> </li><li> <a name="MODULARIZE:MODULE-NOT-FOUND"> </a> <article id="CONDITION MODULARIZE:MODULE-NOT-FOUND"> <header class="condition"> <span class="type">condition</span>  <h4 class="name"><code><a href="#CONDITION%20MODULARIZE%3AMODULE-NOT-FOUND">MODULE-NOT-FOUND</a></code></h4>  </header> <div class="docstring"><pre>Condition signalled when a module is requested but not found.</pre></div> </article> </li><li> <a name="MODULARIZE:NOT-A-MODULE"> </a> <article id="CONDITION MODULARIZE:NOT-A-MODULE"> <header class="condition"> <span class="type">condition</span>  <h4 class="name"><code><a href="#CONDITION%20MODULARIZE%3ANOT-A-MODULE">NOT-A-MODULE</a></code></h4>  </header> <div class="docstring"><pre>Condition signalled when a module is requested but only a package of the requested name exists.</pre></div> </article> </li><li> <a name="MODULARIZE:VIRTUAL-MODULE-NOT-FOUND"> </a> <article id="CONDITION MODULARIZE:VIRTUAL-MODULE-NOT-FOUND"> <header class="condition"> <span class="type">condition</span>  <h4 class="name"><code><a href="#CONDITION%20MODULARIZE%3AVIRTUAL-MODULE-NOT-FOUND">VIRTUAL-MODULE-NOT-FOUND</a></code></h4>  </header> <div class="docstring"><pre>Condition signalled when a virtual module was requested but could not be found.</pre></div> </article> </li><li> <a name="MODULARIZE:DELETE-HOOK"> </a> <article id="ACCESSOR MODULARIZE:DELETE-HOOK"> <header class="accessor"> <span class="type">accessor</span>  <code>(</code><h4 class="name"><code><a href="#ACCESSOR%20MODULARIZE%3ADELETE-HOOK">DELETE-HOOK</a></code></h4> <code class="qualifiers"></code> <code class="arguments">IDENTIFIER</code><code>)</code>  </header> <div class="docstring"><pre>Accesses the deletion hook function associated with the identifier.</pre></div> </article> </li><li> <a name="MODULARIZE:MODULARIZE-HOOK"> </a> <article id="ACCESSOR MODULARIZE:MODULARIZE-HOOK"> <header class="accessor"> <span class="type">accessor</span>  <code>(</code><h4 class="name"><code><a href="#ACCESSOR%20MODULARIZE%3AMODULARIZE-HOOK">MODULARIZE-HOOK</a></code></h4> <code class="qualifiers"></code> <code class="arguments">IDENTIFIER</code><code>)</code>  </header> <div class="docstring"><pre>Accessor to the modularization hook function associated with the identifier.</pre></div> </article> </li><li> <a name="MODULARIZE:MODULE-PACKAGES"> </a> <article id="ACCESSOR MODULARIZE:MODULE-PACKAGES"> <header class="accessor"> <span class="type">accessor</span>  <code>(</code><h4 class="name"><code><a href="#ACCESSOR%20MODULARIZE%3AMODULE-PACKAGES">MODULE-PACKAGES</a></code></h4> <code class="qualifiers"></code> <code class="arguments">MODULE</code><code>)</code>  </header> <div class="docstring"><pre>Accesses the packages that are sub-packages under the module.

The list may contain package objects or package-names.

You can only add packages that are not already registered
as sub-packages to a module, and are not themselves a module.</pre></div> </article> </li><li> <a name="MODULARIZE:MODULE-STORAGE"> </a> <article id="ACCESSOR MODULARIZE:MODULE-STORAGE"> <header class="accessor"> <span class="type">accessor</span>  <code>(</code><h4 class="name"><code><a href="#ACCESSOR%20MODULARIZE%3AMODULE-STORAGE">MODULE-STORAGE</a></code></h4> <code class="qualifiers"></code> <code class="arguments">MODULE &amp;OPTIONAL (KEY NIL K-S)</code><code>)</code>  </header> <div class="docstring"><pre>Accesses the module storage table of the module or a field from it if a key is passed.</pre></div> </article> </li><li> <a name="MODULARIZE:VIRTUAL-MODULE"> </a> <article id="ACCESSOR MODULARIZE:VIRTUAL-MODULE"> <header class="accessor"> <span class="type">accessor</span>  <code>(</code><h4 class="name"><code><a href="#ACCESSOR%20MODULARIZE%3AVIRTUAL-MODULE">VIRTUAL-MODULE</a></code></h4> <code class="qualifiers"></code> <code class="arguments">IDENTIFIER</code><code>)</code>  </header> <div class="docstring"><pre>Accesses the virtual module instance associated with the identifier if one was found, otherwise NIL.</pre></div> </article> </li><li> <a name="MODULARIZE:VIRTUAL-MODULE-NAME"> </a> <article id="ACCESSOR MODULARIZE:VIRTUAL-MODULE-NAME"> <header class="accessor"> <span class="type">accessor</span>  <code>(</code><h4 class="name"><code><a href="#ACCESSOR%20MODULARIZE%3AVIRTUAL-MODULE-NAME">VIRTUAL-MODULE-NAME</a></code></h4> <code class="qualifiers"></code> <code class="arguments">OBJECT</code><code>)</code>  </header> <div class="docstring"><pre>Returns the module name associated with this virtual module.</pre></div> </article> </li><li> <a name="MODULARIZE:CALL-DELETE-HOOKS"> </a> <article id="FUNCTION MODULARIZE:CALL-DELETE-HOOKS"> <header class="function"> <span class="type">function</span>  <code>(</code><h4 class="name"><code><a href="#FUNCTION%20MODULARIZE%3ACALL-DELETE-HOOKS">CALL-DELETE-HOOKS</a></code></h4> <code class="qualifiers"></code> <code class="arguments">PACKAGE</code><code>)</code>  </header> <div class="docstring"><pre>Calls all deletion hooks on the package.</pre></div> </article> </li><li> <a name="MODULARIZE:CALL-MODULARIZE-HOOKS"> </a> <article id="FUNCTION MODULARIZE:CALL-MODULARIZE-HOOKS"> <header class="function"> <span class="type">function</span>  <code>(</code><h4 class="name"><code><a href="#FUNCTION%20MODULARIZE%3ACALL-MODULARIZE-HOOKS">CALL-MODULARIZE-HOOKS</a></code></h4> <code class="qualifiers"></code> <code class="arguments">PACKAGE</code><code>)</code>  </header> <div class="docstring"><pre>Calls all modularization hooks on the package.</pre></div> </article> </li><li> <a name="MODULARIZE:DELETE-MODULE"> </a> <article id="FUNCTION MODULARIZE:DELETE-MODULE"> <header class="function"> <span class="type">function</span>  <code>(</code><h4 class="name"><code><a href="#FUNCTION%20MODULARIZE%3ADELETE-MODULE">DELETE-MODULE</a></code></h4> <code class="qualifiers"></code> <code class="arguments">MODULE</code><code>)</code>  </header> <div class="docstring"><pre>Attempts to completely delete the given module.

This first calls the delete hooks, then demodularizes
the package, unbinds all symbols in the package from
values and functions, and finally deletes the package.</pre></div> </article> </li><li> <a name="MODULARIZE:DEMODULARIZE"> </a> <article id="FUNCTION MODULARIZE:DEMODULARIZE"> <header class="function"> <span class="type">function</span>  <code>(</code><h4 class="name"><code><a href="#FUNCTION%20MODULARIZE%3ADEMODULARIZE">DEMODULARIZE</a></code></h4> <code class="qualifiers"></code> <code class="arguments">MODULE</code><code>)</code>  </header> <div class="docstring"><pre>Removes the module from the module storage table.

This essentially returning it back to a normal package.
Any additional effects by module options or
modularization hooks can of course not be undone by this.</pre></div> </article> </li><li> <a name="MODULARIZE:LIST-MODULES"> </a> <article id="FUNCTION MODULARIZE:LIST-MODULES"> <header class="function"> <span class="type">function</span>  <code>(</code><h4 class="name"><code><a href="#FUNCTION%20MODULARIZE%3ALIST-MODULES">LIST-MODULES</a></code></h4> <code class="qualifiers"></code> <code class="arguments"></code><code>)</code>  </header> <div class="docstring"><pre>Returns a list of all modules in no particular order.</pre></div> </article> </li><li> <a name="MODULARIZE:LOAD-MODULE"> </a> <article id="FUNCTION MODULARIZE:LOAD-MODULE"> <header class="function"> <span class="type">function</span>  <code>(</code><h4 class="name"><code><a href="#FUNCTION%20MODULARIZE%3ALOAD-MODULE">LOAD-MODULE</a></code></h4> <code class="qualifiers"></code> <code class="arguments">IDENTIFIER</code><code>)</code>  </header> <div class="docstring"><pre>Attempts to find the module named by identifier and load its ASDF system.</pre></div> </article> </li><li> <a name="MODULARIZE:MAP-MODULES"> </a> <article id="FUNCTION MODULARIZE:MAP-MODULES"> <header class="function"> <span class="type">function</span>  <code>(</code><h4 class="name"><code><a href="#FUNCTION%20MODULARIZE%3AMAP-MODULES">MAP-MODULES</a></code></h4> <code class="qualifiers"></code> <code class="arguments">FUNCTION</code><code>)</code>  </header> <div class="docstring"><pre>Calls the function once with each module in no particular order.</pre></div> </article> </li><li> <a name="MODULARIZE:MODULARIZE"> </a> <article id="FUNCTION MODULARIZE:MODULARIZE"> <header class="function"> <span class="type">function</span>  <code>(</code><h4 class="name"><code><a href="#FUNCTION%20MODULARIZE%3AMODULARIZE">MODULARIZE</a></code></h4> <code class="qualifiers"></code> <code class="arguments">&amp;KEY (PACKAGE *PACKAGE*) (NAME (PACKAGE-NAME PACKAGE))</code><code>)</code>  </header> <div class="docstring"><pre>Turns the given package into one that is identified as a module.

What this does is register the package on the module
storage table, add the name and identifiers to it,
and then call the modularize hooks.</pre></div> </article> </li><li> <a name="MODULARIZE:MODULE"> </a> <article id="FUNCTION MODULARIZE:MODULE"> <header class="function"> <span class="type">function</span>  <code>(</code><h4 class="name"><code><a href="#FUNCTION%20MODULARIZE%3AMODULE">MODULE</a></code></h4> <code class="qualifiers"></code> <code class="arguments">&amp;OPTIONAL IDENTIFIER</code><code>)</code>  </header> <div class="docstring"><pre>Attempts to return the matching module package.

If not possible, a condition of type MODULE-NOT-FOUND is signalled.

You may pass a STRING, SYMBOL or PACKAGE as the identifier.
If NIL is passed, the current *PACKAGE* is used instead.</pre></div> </article> </li><li> <a name="MODULARIZE:MODULE-IDENTIFIER"> </a> <article id="FUNCTION MODULARIZE:MODULE-IDENTIFIER"> <header class="function"> <span class="type">function</span>  <code>(</code><h4 class="name"><code><a href="#FUNCTION%20MODULARIZE%3AMODULE-IDENTIFIER">MODULE-IDENTIFIER</a></code></h4> <code class="qualifiers"></code> <code class="arguments">MODULE</code><code>)</code>  </header> <div class="docstring"><pre>Returns the identifier of the module.</pre></div> </article> </li><li> <a name="MODULARIZE:MODULE-NAME"> </a> <article id="FUNCTION MODULARIZE:MODULE-NAME"> <header class="function"> <span class="type">function</span>  <code>(</code><h4 class="name"><code><a href="#FUNCTION%20MODULARIZE%3AMODULE-NAME">MODULE-NAME</a></code></h4> <code class="qualifiers"></code> <code class="arguments">MODULE</code><code>)</code>  </header> <div class="docstring"><pre>Returns the name of the module.</pre></div> </article> </li><li> <a name="MODULARIZE:MODULE-P"> </a> <article id="FUNCTION MODULARIZE:MODULE-P"> <header class="function"> <span class="type">function</span>  <code>(</code><h4 class="name"><code><a href="#FUNCTION%20MODULARIZE%3AMODULE-P">MODULE-P</a></code></h4> <code class="qualifiers"></code> <code class="arguments">OBJECT</code><code>)</code>  </header> <div class="docstring"><pre>Returns non-NIL if the passed object is or resolves to a module package, otherwise NIL.</pre></div> </article> </li><li> <a name="MODULARIZE:MODULE-STORAGE-REMOVE"> </a> <article id="FUNCTION MODULARIZE:MODULE-STORAGE-REMOVE"> <header class="function"> <span class="type">function</span>  <code>(</code><h4 class="name"><code><a href="#FUNCTION%20MODULARIZE%3AMODULE-STORAGE-REMOVE">MODULE-STORAGE-REMOVE</a></code></h4> <code class="qualifiers"></code> <code class="arguments">MODULE KEY</code><code>)</code>  </header> <div class="docstring"><pre>Removes a key from the module storage table.</pre></div> </article> </li><li> <a name="MODULARIZE:REGISTER-VIRTUAL-MODULE"> </a> <article id="FUNCTION MODULARIZE:REGISTER-VIRTUAL-MODULE"> <header class="function"> <span class="type">function</span>  <code>(</code><h4 class="name"><code><a href="#FUNCTION%20MODULARIZE%3AREGISTER-VIRTUAL-MODULE">REGISTER-VIRTUAL-MODULE</a></code></h4> <code class="qualifiers"></code> <code class="arguments">MODULE</code><code>)</code>  </header> <div class="docstring"><pre>Registers the given module in the virtual module map.</pre></div> </article> </li><li> <a name="MODULARIZE:REMOVE-DELETE-HOOK"> </a> <article id="FUNCTION MODULARIZE:REMOVE-DELETE-HOOK"> <header class="function"> <span class="type">function</span>  <code>(</code><h4 class="name"><code><a href="#FUNCTION%20MODULARIZE%3AREMOVE-DELETE-HOOK">REMOVE-DELETE-HOOK</a></code></h4> <code class="qualifiers"></code> <code class="arguments">IDENTIFIER</code><code>)</code>  </header> <div class="docstring"><pre>Removes the deletion hook named by the identifier.</pre></div> </article> </li><li> <a name="MODULARIZE:REMOVE-MODULARIZE-HOOK"> </a> <article id="FUNCTION MODULARIZE:REMOVE-MODULARIZE-HOOK"> <header class="function"> <span class="type">function</span>  <code>(</code><h4 class="name"><code><a href="#FUNCTION%20MODULARIZE%3AREMOVE-MODULARIZE-HOOK">REMOVE-MODULARIZE-HOOK</a></code></h4> <code class="qualifiers"></code> <code class="arguments">IDENTIFIER</code><code>)</code>  </header> <div class="docstring"><pre>Removes the modularization hook named by the identifier.</pre></div> </article> </li><li> <a name="MODULARIZE:EXPAND-OPTION"> </a> <article id="GENERIC MODULARIZE:EXPAND-OPTION"> <header class="generic"> <span class="type">generic</span>  <code>(</code><h4 class="name"><code><a href="#GENERIC%20MODULARIZE%3AEXPAND-OPTION">EXPAND-OPTION</a></code></h4> <code class="qualifiers"></code> <code class="arguments">TYPE PACKAGE ARGS</code><code>)</code>  </header> <div class="docstring"><pre>Called to expand module options into forms.</pre></div> </article> </li><li> <a name="MODULARIZE:REMOVE-VIRTUAL-MODULE"> </a> <article id="GENERIC MODULARIZE:REMOVE-VIRTUAL-MODULE"> <header class="generic"> <span class="type">generic</span>  <code>(</code><h4 class="name"><code><a href="#GENERIC%20MODULARIZE%3AREMOVE-VIRTUAL-MODULE">REMOVE-VIRTUAL-MODULE</a></code></h4> <code class="qualifiers"></code> <code class="arguments">IDENTIFIER</code><code>)</code>  </header> <div class="docstring"><pre>Removes the association of the name with a virtual module.</pre></div> </article> </li><li> <a name="MODULARIZE:CURRENT-MODULE"> </a> <article id="MACRO MODULARIZE:CURRENT-MODULE"> <header class="macro"> <span class="type">macro</span>  <code>(</code><h4 class="name"><code><a href="#MACRO%20MODULARIZE%3ACURRENT-MODULE">CURRENT-MODULE</a></code></h4> <code class="qualifiers"></code> <code class="arguments"></code><code>)</code>  </header> <div class="docstring"><pre>Macro that expands to the module in the current package.
Useful to establish a module context.</pre></div> </article> </li><li> <a name="MODULARIZE:DEFINE-DELETE-HOOK"> </a> <article id="MACRO MODULARIZE:DEFINE-DELETE-HOOK"> <header class="macro"> <span class="type">macro</span>  <code>(</code><h4 class="name"><code><a href="#MACRO%20MODULARIZE%3ADEFINE-DELETE-HOOK">DEFINE-DELETE-HOOK</a></code></h4> <code class="qualifiers"></code> <code class="arguments">(MODULEVAR &amp;OPTIONAL IDENTIFIER) &amp;BODY BODY</code><code>)</code>  </header> <div class="docstring"><pre>Defines a new deletion hook.

The identifier is defaulted to a keyword representation of the current package name.</pre></div> </article> </li><li> <a name="MODULARIZE:DEFINE-MODULARIZE-HOOK"> </a> <article id="MACRO MODULARIZE:DEFINE-MODULARIZE-HOOK"> <header class="macro"> <span class="type">macro</span>  <code>(</code><h4 class="name"><code><a href="#MACRO%20MODULARIZE%3ADEFINE-MODULARIZE-HOOK">DEFINE-MODULARIZE-HOOK</a></code></h4> <code class="qualifiers"></code> <code class="arguments">(MODULEVAR &amp;OPTIONAL IDENTIFIER) &amp;BODY BODY</code><code>)</code>  </header> <div class="docstring"><pre>Defines a new modularization hook.

The identifier is defaulted to a keyword representation of the current package name.</pre></div> </article> </li><li> <a name="MODULARIZE:DEFINE-MODULE"> </a> <article id="MACRO MODULARIZE:DEFINE-MODULE"> <header class="macro"> <span class="type">macro</span>  <code>(</code><h4 class="name"><code><a href="#MACRO%20MODULARIZE%3ADEFINE-MODULE">DEFINE-MODULE</a></code></h4> <code class="qualifiers"></code> <code class="arguments">NAME &amp;BODY OPTIONS</code><code>)</code>  </header> <div class="docstring"><pre>Defines a new module.

This essentially defines a new package with the given name,
calls MODULARIZE on it and then expands all options to extend
the package/module.</pre></div> </article> </li><li> <a name="MODULARIZE:DEFINE-MODULE-EXTENSION"> </a> <article id="MACRO MODULARIZE:DEFINE-MODULE-EXTENSION"> <header class="macro"> <span class="type">macro</span>  <code>(</code><h4 class="name"><code><a href="#MACRO%20MODULARIZE%3ADEFINE-MODULE-EXTENSION">DEFINE-MODULE-EXTENSION</a></code></h4> <code class="qualifiers"></code> <code class="arguments">(MODULE-IDENTIFIER NAME) &amp;BODY OPTIONS</code><code>)</code>  </header> <div class="docstring"><pre>Defines a module extension.

This gives the existing module new nicknames and expands the
given options on it to add functionality.</pre></div> </article> </li><li> <a name="MODULARIZE:DEFINE-OPTION-EXPANDER"> </a> <article id="MACRO MODULARIZE:DEFINE-OPTION-EXPANDER"> <header class="macro"> <span class="type">macro</span>  <code>(</code><h4 class="name"><code><a href="#MACRO%20MODULARIZE%3ADEFINE-OPTION-EXPANDER">DEFINE-OPTION-EXPANDER</a></code></h4> <code class="qualifiers"></code> <code class="arguments">NAME (PACKAGE &amp;REST ARGUMENTS) &amp;BODY BODY</code><code>)</code>  </header> <div class="docstring"><pre>Defines a new option expander that is called whenever the option is used in the module definition.

This should run whatever is necessary to accomplish the
desired option effect. The expanders are run AFTER the
modularize call, so you can use the module storage in
your expansions.</pre></div> </article> </li><li> <a name="MODULARIZE:WITH-MODULE"> </a> <article id="MACRO MODULARIZE:WITH-MODULE"> <header class="macro"> <span class="type">macro</span>  <code>(</code><h4 class="name"><code><a href="#MACRO%20MODULARIZE%3AWITH-MODULE">WITH-MODULE</a></code></h4> <code class="qualifiers"></code> <code class="arguments">(VAR &amp;OPTIONAL (MODULE)) &amp;BODY BODY</code><code>)</code>  </header> <div class="docstring"><pre>Binds the resolved MODULE to VAR.</pre></div> </article> </li></ul> </li><li class="package"> <h3> <a name="ORG.SHIRAKUMO.RADIANCE.LIB.MODULARIZE.USER" href="#ORG.SHIRAKUMO.RADIANCE.LIB.MODULARIZE.USER">ORG.SHIRAKUMO.RADIANCE.LIB.MODULARIZE.USER</a> <span class="nicknames">(MODULARIZE-USER)</span> </h3> <ul/> </li></ul> </article>  </main> </body> </html> 